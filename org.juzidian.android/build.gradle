apply plugin: 'android'

dependencies {
	compile files("${ant['sdk.dir']}/extras/android/support/v4/android-support-v4.jar")
	compile project(':org.juzidian.cedict'), project(':org.juzidian.core')
	compile 'com.google.inject:guice:3.0:no_aop'
	/*
	 * gradle-android does not handle library projects well so we pull project
	 * dependencies from local maven repository when building.
	 */
	compile 'org.juzidian:org.juzidian.cedict:0.+'
	compile 'org.juzidian:org.juzidian.core:0.+'
}

eclipse.classpath.file {
	whenMerged { classpath ->
		classpath.entries.removeAll { it.path.contains('org.juzidian.cedict-') }
		classpath.entries.removeAll { it.path.contains('org.juzidian.core-') }
	}
}

compileJava.dependsOn ':org.juzidian.cedict:install'
compileJava.dependsOn ':org.juzidian.core:install'